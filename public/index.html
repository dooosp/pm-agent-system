<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PM Agent System</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>PM Agent System</h1>
      <p class="subtitle">Multi-Agent Orchestration for PM/PO Workflow</p>
    </header>

    <main>
      <!-- Query Input -->
      <section class="query-section">
        <label for="query">분석할 주제를 입력하세요</label>
        <div class="input-group">
          <input type="text" id="query" placeholder="예: 반도체 장비 시장 동향 분석">
          <button id="analyzeBtn" onclick="analyze()">분석 시작</button>
          <button id="cancelBtn" class="cancel-btn hidden" onclick="cancelAnalysis()">취소</button>
          <button class="demo-btn" id="demoBtn" onclick="loadDemo()">Demo</button>
        </div>
        <p class="input-hint">산업 트렌드, 시장 분석, 기술 동향 등 PM 관점의 주제를 입력하세요</p>
      </section>

      <!-- Feature Preview (분석 전 기능 안내) -->
      <section id="feature-preview" class="feature-preview">
        <h2>분석 파이프라인</h2>
        <div class="preview-pipeline">
          <div class="preview-step"><span class="icon">🔍</span><span class="label">Input</span><span class="desc">뉴스·데이터 수집</span></div>
          <div class="preview-arrow">→</div>
          <div class="preview-step"><span class="icon">🧠</span><span class="label">Analysis</span><span class="desc">문제 도출·RCA</span></div>
          <div class="preview-arrow">→</div>
          <div class="preview-step"><span class="icon">📐</span><span class="label">Planning</span><span class="desc">RICE 우선순위</span></div>
          <div class="preview-arrow">→</div>
          <div class="preview-step"><span class="icon">📄</span><span class="label">Output</span><span class="desc">문서 생성</span></div>
        </div>
        <h2>생성 가능한 문서</h2>
        <div class="preview-docs">
          <div class="preview-doc"><span class="doc-icon">📋</span><span class="doc-name">PRD</span></div>
          <div class="preview-doc"><span class="doc-icon">📝</span><span class="doc-name">One-Pager</span></div>
          <div class="preview-doc"><span class="doc-icon">🎤</span><span class="doc-name">Briefing</span></div>
        </div>
      </section>

      <!-- Progress -->
      <section id="progress" class="progress-section hidden">
        <div class="progress-bar">
          <div class="progress-step" data-step="1">
            <span class="icon">🔍</span>
            <span class="label">Input</span>
            <span class="status-text"></span>
          </div>
          <div class="progress-step" data-step="2">
            <span class="icon">🧠</span>
            <span class="label">Analysis</span>
            <span class="status-text"></span>
          </div>
          <div class="progress-step" data-step="3">
            <span class="icon">📐</span>
            <span class="label">Planning</span>
            <span class="status-text"></span>
          </div>
          <div class="progress-step" data-step="4">
            <span class="icon">📄</span>
            <span class="label">Output</span>
            <span class="status-text"></span>
          </div>
        </div>
        <p id="progress-info" class="progress-info"></p>
      </section>

      <!-- Results -->
      <section id="results" class="results-section hidden">
        <div class="tabs">
          <button class="tab active" data-tab="input">Input</button>
          <button class="tab" data-tab="analysis">Analysis</button>
          <button class="tab" data-tab="planning">Planning</button>
          <button class="tab" data-tab="output">Output</button>
        </div>

        <div id="tab-content" class="tab-content">
          <!-- Dynamic content -->
        </div>

        <!-- Document Generation -->
        <div id="doc-gen" class="doc-gen hidden">
          <h2>문서 생성</h2>
          <div class="doc-buttons">
            <button onclick="generateDoc('prd')">
              <span class="doc-card-icon">📋</span>
              <span class="doc-card-title">PRD</span>
              <span class="doc-card-desc">제품 요구사항 문서</span>
            </button>
            <button onclick="generateDoc('one-pager')">
              <span class="doc-card-icon">📝</span>
              <span class="doc-card-title">One-Pager</span>
              <span class="doc-card-desc">한 장 요약 보고서</span>
            </button>
            <button onclick="generateDoc('briefing')">
              <span class="doc-card-icon">🎤</span>
              <span class="doc-card-title">Briefing</span>
              <span class="doc-card-desc">발표용 브리핑 자료</span>
            </button>
          </div>
          <div id="export-bar" class="export-bar hidden">
            <button class="export-btn" onclick="exportMarkdown()">Markdown 다운로드</button>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>
